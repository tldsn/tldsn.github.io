---
layout: post
title:  Docker微服务教程-阮一峰的网络日志
categories: 印象笔记导入
tags: docker
author: tldsn
---
<html><head></head><body><div class="ennote">
  <div style="--en-clipped-content:article; --en-clipped-source-url:http://www.ruanyifeng.com/blog/2018/02/docker-wordpress-tutorial.html; --en-clipped-source-title:Docker 微服务教程 - 阮一峰的网络日志;">
<div><br></div><div style="font-size: 16px; display:block; min-width: 100%; position: relative;"> <div style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);"><div style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;font-family:Georgia, serif;letter-spacing:-0.01em;word-spacing:0.2em;line-height:1.8em;font-size:62.5%;background-color:rgb(245, 245, 213);color:rgb(17, 17, 17);"><div style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);background-color:rgb(245, 245, 213);min-width:640px;"><div style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);"><div style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);"><div style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);"><div style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);"><div style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);"><div style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);"><div>
                                    <h1 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:2.88em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);line-height:250%;font-family:&quot;Trebuchet MS&quot;, Arial, &quot;Lucida Grande&quot;, Verdana, Lucida, Helvetica, sans-serif;">Docker 微服务教程</h1>
                                            <div style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">
<a href="http://www.bshare.cn/share" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;background:rgba(0, 0, 0, 0) none repeat scroll 0% 0%;font:12px / 14px Helvetica, Calibri, Tahoma, Arial, 宋体, sans-serif;border:medium none;overflow:hidden;color:rgb(85, 102, 119);height:21px;line-height:18px;font-size:12px;padding-left:0px;"><div style="list-style-type:none;margin:0px;padding:0px;text-align:center;font-style:normal;text-decoration:none;font-weight:bold;border:medium none;color:#333;display:inline-block;background:transparent url(http://static.bshare.cn/frame/images/button_custom10-zh-Orange.gif) no-repeat;line-height:1.2;cursor:pointer;"></div><div style="list-style-type:none;text-align:left;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);display:inline-block;background:rgba(0, 0, 0, 0) none repeat scroll 0% 0%;line-height:1.2;margin:0px;padding:0px;text-decoration:none;border:medium none;"></div></a>





</div>

<div style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);line-height:0.8;margin:1.5em auto 2em;">
                                        

                                            <p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;color:rgb(85, 102, 119);">作者： <a href="http://www.ruanyifeng.com/" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(85, 102, 119);">阮一峰</a></p>
                                    <p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;color:rgb(85, 102, 119);">日期： <a href="http://www.ruanyifeng.com/blog/2018/02/" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(85, 102, 119);"><abbr title="2018-02-13T09:31:50+08:00" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(85, 102, 119);">2018年2月13日</abbr></a></p>


</div>








                                
                                <div style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">

                                    
                                        <p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">Docker 是一个容器工具，提供虚拟环境。很多人认为，它改变了我们对软件的认识。</p>

                                    


                                    
                                        <p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">站在 Docker 的角度，软件就是容器的组合：业务逻辑容器、数据库容器、储存容器、队列容器......Docker 使得软件可以拆分成若干个标准化容器，然后像搭积木一样组合起来。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><img title="" width="488" height="284" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);border-radius:1em;border:0.3em solid rgb(224, 223, 204);" src="https://app.yinxiang.com/files/common-services/binary-datas/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiYzI5ZGI3MmEtMDE1Ny00MGI4LTg1ZDYtYmE0MGEyMzQzOTAyIiwicmVzb3VyY0d1aWQiOiIwZGM2ZWVlNC0yY2ZhLTQ4NTktYjQ1NC1kZWFlMTg1OTdhYmIifQ==" data-original-width="488" mime="image/png" data-original-height="284" id="1391b11393f49379d57ded523cfef900" class="en-media"></p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">这正是微服务（microservices）的思想：软件把任务外包出去，让各种外部服务完成这些任务，软件本身只是底层服务的调度中心和组装层。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><img title="" width="300" height="300" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);border-radius:1em;border:0.3em solid rgb(224, 223, 204);" src="https://app.yinxiang.com/files/common-services/binary-datas/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiYzI5ZGI3MmEtMDE1Ny00MGI4LTg1ZDYtYmE0MGEyMzQzOTAyIiwicmVzb3VyY0d1aWQiOiI5OWFmYWQwMi0wZmQxLTRkNjctODRmNC04M2NhOTdmNDVhZjQifQ==" data-original-width="300" mime="image/png" data-original-height="300" id="05a6eaa583ef96a5f1a4136ea75724c2" class="en-media"></p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">微服务很适合用 Docker 容器实现，每个容器承载一个服务。一台计算机同时运行多个容器，从而就能很轻松地模拟出复杂的微服务架构。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><img title="" width="659" height="396" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);border-radius:1em;border:0.3em solid rgb(224, 223, 204);" src="https://app.yinxiang.com/files/common-services/binary-datas/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiYzI5ZGI3MmEtMDE1Ny00MGI4LTg1ZDYtYmE0MGEyMzQzOTAyIiwicmVzb3VyY0d1aWQiOiIzODg4NDljNS03NTMzLTQwYzgtOGU3Ni0xZTk0YTBjYmI1OTcifQ==" data-original-width="659" mime="image/png" data-original-height="396" id="2971284fc25d9f376a8e17afeda6253c" class="en-media"></p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><a href="http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html" target="_blank" style="margin:0px;padding:0px;list-style-type:none;text-align:left;font-weight:normal;font-style:normal;border:medium none;text-decoration:underline;color:rgb(34, 52, 114);">上一篇教程</a>介绍了 Docker 的概念和基本用法，本文接着往下介绍，如何在一台计算机上实现多个服务，让它们互相配合，组合出一个应用程序。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><img title="" width="550" height="225" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);border-radius:1em;border:0.3em solid rgb(224, 223, 204);" src="https://app.yinxiang.com/files/common-services/binary-datas/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiYzI5ZGI3MmEtMDE1Ny00MGI4LTg1ZDYtYmE0MGEyMzQzOTAyIiwicmVzb3VyY0d1aWQiOiI3ZGZkODEzZC03YTlhLTRmNjItODYxNi0xY2U2MWYyZDk0ZTEifQ==" data-original-width="550" mime="image/png" data-original-height="225" id="d2e3ce69ed178faaca62d6362b1375c9" class="en-media"></p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">我选择的示例软件是 <a href="https://wordpress.org/" target="_blank" style="margin:0px;padding:0px;list-style-type:none;text-align:left;font-weight:normal;font-style:normal;border:medium none;text-decoration:underline;color:rgb(34, 52, 114);">WordPress</a>。它是一个常用软件，全世界用户据说超过几千万。同时它又非常简单，只要两个容器就够了（业务容器 + 数据库容器），很适合教学。而且，这种"业务 + 数据库"的容器架构，具有通用性，许多应用程序都可以复用。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">为了加深读者理解，本文采用三种方法，演示如何架设 WordPress 网站。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;">
  <ul style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);margin-left:4em;">
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;">方法 A：自建 WordPress 容器</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;">方法 B：采用官方的 WordPress 容器</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;">方法 C：采用 Docker Compose 工具</li>
</ul>
</blockquote>

<h2 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:2.88em;line-height:1.35em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">一、预备工作：image 仓库的镜像网址</h2>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">本教程需要从仓库下载 image 文件，但是国内访问 Docker 的官方仓库很慢，还经常断线，所以要把仓库网址改成国内的镜像站。这里推荐使用官方镜像 registry.docker-cn.com 。下面是我的 Debian 系统的默认仓库修改方法，其他系统的修改方法参考<a href="https://www.docker-cn.com/registry-mirror" target="_blank" style="margin:0px;padding:0px;list-style-type:none;text-align:left;font-weight:normal;font-style:normal;border:medium none;text-decoration:underline;color:rgb(34, 52, 114);">官方文档</a>。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">打开<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">/etc/default/docker</code>文件（需要<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">sudo</code>权限），在文件的底部加上一行。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
DOCKER_OPTS<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">=</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(102, 153, 0);">"--registry-mirror=<a href="https://registry.docker-cn.com/" style="margin:0px;padding:0px;list-style-type:none;text-align:left;font-weight:normal;font-style:normal;border:medium none;text-decoration:underline;color:rgb(34, 52, 114);">https://registry.docker-cn.com</a>"</span>
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">然后，重启 Docker 服务。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ sudo service docker restart
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">现在就会自动从镜像仓库下载 image 文件了。</p>

<h2 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:2.88em;line-height:1.35em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">二、方法 A：自建 WordPress 容器</h2>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">前面说过，本文会用三种方法演示 WordPress 的安装。第一种方法就是自建 WordPress 容器。</p>

<h3 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:1.87em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">2.1 官方 的 PHP image</h3>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">首先，新建一个工作目录，并进入该目录。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ mkdir docker<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>demo <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">&amp;&amp;</span> cd docker<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>demo
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">然后，执行下面的命令。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container run \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>rm \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>name wordpress \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>volume <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(102, 153, 0);">"<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">$PWD</span>/"</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>var<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>www<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>html \
  php<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">5.6</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>apache
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">上面的命令基于<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">php</code>的 image 文件新建一个容器，并且运行该容器。<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">php</code>的标签是<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">5.6-apache</code>，说明装的是 PHP 5.6，并且自带 Apache 服务器。该命令的三个参数含义如下。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;">
  <ul style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);margin-left:4em;">
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">--rm</code>：停止运行后，自动删除容器文件。</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">--name wordpress</code>：容器的名字叫做<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">wordpress</code>。</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">--volume "$PWD/":/var/www/html</code>：将当前目录（<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">$PWD</code>）映射到容器的<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">/var/www/html</code>（Apache 对外访问的默认目录）。因此，当前目录的任何修改，都会反映到容器里面，进而被外部访问到。</li>
</ul>
</blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">运行上面的命令以后，如果一切正常，命令行会提示容器对外的 IP 地址，请记下这个地址，我们要用它来访问容器。我分配到的 IP 地址是 172.17.0.2。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">打开浏览器，访问 172.17.0.2，你会看到下面的提示。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
Forbidden
You don't have permission to access <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span> on this server<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">.</span>
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">这是因为容器的<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">/var/www/html</code>目录（也就是本机的<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">docker-demo</code>目录）下面什么也没有，无法提供可以访问的内容。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">请在本机的<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">docker-demo</code>目录下面，添加一个最简单的 PHP 文件<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">index.php</code>。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">&lt;</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">?</span>php 
<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">phpinfo<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">(</span></span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">)</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">;</span>
<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">?</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">&gt;</span>
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">保存以后，浏览器刷新<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">172.17.0.2</code>，应该就会看到熟悉的<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">phpinfo</code>页面了。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><img title="" width="700" height="549" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);border-radius:1em;border:0.3em solid rgb(224, 223, 204);" src="https://app.yinxiang.com/files/common-services/binary-datas/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiYzI5ZGI3MmEtMDE1Ny00MGI4LTg1ZDYtYmE0MGEyMzQzOTAyIiwicmVzb3VyY0d1aWQiOiI2MTYyZDY5YS0xNDcxLTRiMjMtYjRmMC1lY2JhODBmMzJkZWYifQ==" data-original-width="700" mime="image/png" data-original-height="549" id="049e73f4537ec2568f6e86acd781f0b4" class="en-media"></p>

<h3 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:1.87em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">2.2 拷贝 WordPress 安装包</h3>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">既然本地的<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">docker-demo</code>目录可以映射到容器里面，那么把 WordPress 安装包拷贝到<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">docker-demo</code>目录下，不就可以通过容器访问到 WordPress 的安装界面了吗？</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">首先，在<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">docker-demo</code>目录下，执行下面的命令，抓取并解压 WordPress 安装包。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ wget https<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>cn<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">.</span>wordpress<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">.</span>org<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>wordpress<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">-4.9</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">.</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">4</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>zh_CN<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">.</span>tar<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">.</span>gz
$ tar <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>xvf wordpress<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">-4.9</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">.</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">4</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>zh_CN<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">.</span>tar<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">.</span>gz
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">解压以后，WordPress 的安装文件会在<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">docker-demo/wordpress</code>目录下。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">这时浏览器访问<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">http://172.17.0.2/wordpress</code>，就能看到 WordPress 的安装提示了。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><img title="" width="700" height="499" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);border-radius:1em;border:0.3em solid rgb(224, 223, 204);" src="https://app.yinxiang.com/files/common-services/binary-datas/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiYzI5ZGI3MmEtMDE1Ny00MGI4LTg1ZDYtYmE0MGEyMzQzOTAyIiwicmVzb3VyY0d1aWQiOiI5ODYzNTg3Zi04MDdlLTQ0Y2MtODBkOS03NWI3Y2Q1NmVkZWUifQ==" data-original-width="700" mime="image/png" data-original-height="499" id="e10e6151fa53976fcfc16e5dd20267c9" class="en-media"></p>

<h3 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:1.87em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">2.3 官方的 MySQL 容器</h3>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">WordPress 必须有数据库才能安装，所以必须新建 MySQL 容器。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">打开一个新的命令行窗口，执行下面的命令。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container run \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>d \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>rm \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>name wordpressdb \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>env MYSQL_ROOT_PASSWORD<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">=</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">123456</span> \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>env MYSQL_DATABASE<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">=</span>wordpress \
  mysql<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">5.7</span>
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">上面的命令会基于 MySQL 的 image 文件（5.7版本）新建一个容器。该命令的五个命令行参数的含义如下。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;">
  <ul style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);margin-left:4em;">
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">-d</code>：容器启动后，在后台运行。</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">--rm</code>：容器终止运行后，自动删除容器文件。</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">--name wordpressdb</code>：容器的名字叫做<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">wordpressdb</code></li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">--env MYSQL_ROOT_PASSWORD=123456</code>：向容器进程传入一个环境变量<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">MYSQL_ROOT_PASSWORD</code>，该变量会被用作 MySQL 的根密码。</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">--env MYSQL_DATABASE=wordpress</code>：向容器进程传入一个环境变量<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">MYSQL_DATABASE</code>，容器里面的 MySQL 会根据该变量创建一个同名数据库（本例是<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">WordPress</code>）。</li>
</ul>
</blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">运行上面的命令以后，正常情况下，命令行会显示一行字符串，这是容器的 ID，表示已经新建成功了。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">这时，使用下面的命令查看正在运行的容器，你应该看到<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">wordpress</code>和<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">wordpressdb</code>两个容器正在运行。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container ls
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">其中，<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">wordpressdb</code>是后台运行的，前台看不见它的输出，必须使用下面的命令查看。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container logs wordpressdb
</code></pre></blockquote>

<h3 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:1.87em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">2.4 定制 PHP 容器</h3>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">现在 WordPress 容器和 MySQL 容器都已经有了。接下来，要把 WordPress 容器连接到 MySQL 容器了。但是，PHP 的官方 image 不带有<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">mysql</code>扩展，必须自己新建 image 文件。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">首先，停掉 WordPress 容器。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container stop wordpress
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">停掉以后，由于<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">--rm</code>参数的作用，该容器文件会被自动删除。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">然后，在<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">docker-demo</code>目录里面，新建一个<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">Dockerfile</code>文件，写入下面的内容。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
FROM php<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">5.6</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>apache
RUN docker<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>php<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>ext<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>install mysqli
CMD apache2<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>foreground
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">上面代码的意思，就是在原来 PHP 的 image 基础上，安装<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">mysqli</code>的扩展。然后，启动 Apache。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">基于这个 Dockerfile 文件，新建一个名为<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">phpwithmysql</code>的 image 文件。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker build <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>t phpwithmysql <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">.</span>
</code></pre></blockquote>

<h3 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:1.87em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">2.5 Wordpress 容器连接 MySQL</h3>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">现在基于 phpwithmysql image，重新新建一个 WordPress 容器。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container run \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>rm \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>name wordpress \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>volume <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(102, 153, 0);">"<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">$PWD</span>/"</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>var<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>www<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>html \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>link wordpressdb<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span>mysql \
  phpwithmysql
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">跟上一次相比，上面的命令多了一个参数<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">--link wordpressdb:mysql</code>，表示 WordPress 容器要连到<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">wordpressdb</code>容器，冒号表示该容器的别名是<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">mysql</code>。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">这时还要改一下<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">wordpress</code>目录的权限，让容器可以将配置信息写入这个目录（容器内部写入的<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">/var/www/html</code>目录，会映射到这个目录）。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ chmod <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>R <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">777</span> wordpress
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">接着，回到浏览器的<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">http://172.17.0.2/wordpress</code>页面，点击"现在就开始！"按钮，开始安装。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">WordPress 提示要输入数据库参数。输入的参数如下。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><img title="" width="700" height="478" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);border-radius:1em;border:0.3em solid rgb(224, 223, 204);" src="https://app.yinxiang.com/files/common-services/binary-datas/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiYzI5ZGI3MmEtMDE1Ny00MGI4LTg1ZDYtYmE0MGEyMzQzOTAyIiwicmVzb3VyY0d1aWQiOiIxOWViZGQ4Yy04OGVhLTQ0MzUtYWZkOS01NGY5NTYwNmMxMzcifQ==" data-original-width="700" mime="image/png" data-original-height="478" id="f52866bcae75971f7947b7311225c8d1" class="en-media"></p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;">
  <ul style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);margin-left:4em;">
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;">数据库名：<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">wordpress</code></li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;">用户名：<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">root</code></li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;">密码：<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">123456</code></li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;">数据库主机：<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">mysql</code></li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;">表前缀：<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">wp_</code>（不变）</li>
</ul>
</blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">点击"下一步"按钮，如果 Wordpress 连接数据库成功，就会出现下面的页面，这就表示可以安装了。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><img title="" width="700" height="253" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);border-radius:1em;border:0.3em solid rgb(224, 223, 204);" src="https://app.yinxiang.com/files/common-services/binary-datas/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiYzI5ZGI3MmEtMDE1Ny00MGI4LTg1ZDYtYmE0MGEyMzQzOTAyIiwicmVzb3VyY0d1aWQiOiJhNGZhMjI2OS0xOTE2LTQxYTAtYmE3OC1kNGY2NTFhZmEwYTAifQ==" data-original-width="700" mime="image/png" data-original-height="253" id="a068b21c40355babf6edbaee444097a5" class="en-media"></p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">至此，自建 WordPress 容器的演示完毕，可以把正在运行的两个容器关闭了（容器文件会自动删除）。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container stop wordpress wordpressdb
</code></pre></blockquote>

<h2 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:2.88em;line-height:1.35em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">三、方法 B：Wordpress 官方镜像</h2>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">上一部分的自建 WordPress 容器，还是挺麻烦的。其实不用这么麻烦，Docker 已经提供了官方 <a href="https://hub.docker.com/_/wordpress/" target="_blank" style="margin:0px;padding:0px;list-style-type:none;text-align:left;font-weight:normal;font-style:normal;border:medium none;text-decoration:underline;color:rgb(34, 52, 114);">WordPress</a> image，直接用那个就可以了。有了上一部分的基础，下面的操作就很容易理解了。</p>

<h3 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:1.87em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">3.1 基本用法</h3>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">首先，新建并启动 MySQL 容器。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container run \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>d \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>rm \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>name wordpressdb \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>env MYSQL_ROOT_PASSWORD<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">=</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">123456</span> \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>env MYSQL_DATABASE<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">=</span>wordpress \
  mysql<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">5.7</span>
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">然后，基于官方的 WordPress image，新建并启动 WordPress 容器。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container run \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>d \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>rm \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>name wordpress \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>env WORDPRESS_DB_PASSWORD<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">=</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">123456</span> \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>link wordpressdb<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span>mysql \
  wordpress
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">上面命令中，各个参数的含义前面都解释过了，其中环境变量<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">WORDPRESS_DB_PASSWORD</code>是 MySQL 容器的根密码。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">上面命令指定<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">wordpress</code>容器在后台运行，导致前台看不见输出，使用下面的命令查出<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">wordpress</code>容器的 IP 地址。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container inspect wordpress
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">上面命令运行以后，会输出很多内容，找到<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">IPAddress</code>字段即可。我的机器返回的 IP 地址是<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">172.17.0.3</code>。 </p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">浏览器访问<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">172.17.0.3</code>，就会看到 WordPress 的安装提示。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><img title="" width="499" height="739" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);border-radius:1em;border:0.3em solid rgb(224, 223, 204);" src="https://app.yinxiang.com/files/common-services/binary-datas/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiYzI5ZGI3MmEtMDE1Ny00MGI4LTg1ZDYtYmE0MGEyMzQzOTAyIiwicmVzb3VyY0d1aWQiOiIxODM3ODQzYS1lYjNmLTRmYzktOWY4OC1mNDRmNDkyYTFmODUifQ==" data-original-width="499" mime="image/png" data-original-height="739" id="8317586a4b6d676dd2b5f72200e8786d" class="en-media"></p>

<h3 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:1.87em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">3.2 WordPress 容器的定制</h3>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">到了上一步，官方 WordPress 容器的安装就已经成功了。但是，这种方法有两个很不方便的地方。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;">
  <ul style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);margin-left:4em;">
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;">每次新建容器，返回的 IP 地址不能保证相同，导致要更换 IP 地址访问 WordPress。</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;">WordPress 安装在容器里面，本地无法修改文件。</li>
</ul>
</blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">解决这两个问题很容易，只要新建容器的时候，加两个命令行参数就可以了。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">先把刚才启动的 WordPress 容器终止（容器文件会自动删除）。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container stop wordpress
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">然后，使用下面的命令新建并启动 WordPress 容器。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
 $ docker container run \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>d \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>p <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">127.0</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">.</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">0.2</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">8080</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">80</span> \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>rm \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>name wordpress \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>env WORDPRESS_DB_PASSWORD<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">=</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">123456</span> \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>link wordpressdb<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span>mysql \
  <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>volume <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(102, 153, 0);">"<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">$PWD</span>/wordpress"</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>var<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>www<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>html \
  wordpress
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">上面的命令跟前面相比，命令行参数只多出了两个。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;">
  <ul style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);margin-left:4em;">
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">-p 127.0.0.2:8080:80</code>：将容器的 80 端口映射到<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">127.0.0.2</code>的<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">8080</code>端口。</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">--volume "$PWD/wordpress":/var/www/html</code>：将容器的<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">/var/www/html</code>目录映射到当前目录的<code style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);">wordpress</code>子目录。</li>
</ul>
</blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">浏览器访问<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">127.0.0.2:8080:80</code>就能看到 WordPress 的安装提示了。而且，你在<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">wordpress</code>子目录下的每次修改，都会反映到容器里面。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">最后，终止这两个容器（容器文件会自动删除）。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker container stop wordpress wordpressdb
</code></pre></blockquote>

<h2 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:2.88em;line-height:1.35em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">四、方法 C：Docker Compose 工具</h2>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">上面的方法 B 已经挺简单了，但是必须自己分别启动两个容器，启动的时候，还要在命令行提供容器之间的连接信息。因此，Docker 提供了一种更简单的方法，来管理多个容器的联动。</p>

<h3 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:1.87em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">4.1 Docker Compose 简介</h3>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><img title="" width="650" height="339" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;color:rgb(17, 17, 17);border-radius:1em;border:0.3em solid rgb(224, 223, 204);" src="https://app.yinxiang.com/files/common-services/binary-datas/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiYzI5ZGI3MmEtMDE1Ny00MGI4LTg1ZDYtYmE0MGEyMzQzOTAyIiwicmVzb3VyY0d1aWQiOiI2OGY2ZTk2Zi1kNDE3LTQ1ZWQtYjY0OC1jMzRmZjA0ODI3NjUifQ==" data-original-width="650" mime="image/png" data-original-height="339" id="d177f57417c544b88a62ba178c496fe1" class="en-media"></p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;"><a href="https://docs.docker.com/compose/" target="_blank" style="margin:0px;padding:0px;list-style-type:none;text-align:left;font-weight:normal;font-style:normal;border:medium none;text-decoration:underline;color:rgb(34, 52, 114);">Compose</a> 是 Docker 公司推出的一个工具软件，可以管理多个 Docker 容器组成一个应用。你需要定义一个 <a href="http://www.ruanyifeng.com/blog/2016/07/yaml.html" target="_blank" style="margin:0px;padding:0px;list-style-type:none;text-align:left;font-weight:normal;font-style:normal;border:medium none;text-decoration:underline;color:rgb(34, 52, 114);">YAML</a> 格式的配置文件<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">docker-compose.yml</code>，写好多个容器之间的调用关系。然后，只要一个命令，就能同时启动/关闭这些容器。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:slategray;"># 启动所有服务
</span>$ docker<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>compose up
<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:slategray;"># 关闭所有服务
</span>$ docker<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>compose stop
</code></pre></blockquote>

<h3 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:1.87em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">4.2 Docker Compose 的安装</h3>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">Mac 和 Windows 在安装 docker 的时候，会一起安装 docker compose。Linux 系统下的安装参考<a href="https://docs.docker.com/compose/install/#install-compose" target="_blank" style="margin:0px;padding:0px;list-style-type:none;text-align:left;font-weight:normal;font-style:normal;border:medium none;text-decoration:underline;color:rgb(34, 52, 114);">官方文档</a>。 </p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">安装完成后，运行下面的命令。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>compose <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">--</span>version
</code></pre></blockquote>

<h3 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:1.87em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">4.3 WordPress 示例</h3>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">在<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">docker-demo</code>目录下，新建<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">docker-compose.yml</code>文件，写入下面的内容。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
mysql<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span>
    image<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span> mysql<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">5.7</span>
    environment<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span>
     <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span> MYSQL_ROOT_PASSWORD<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">=</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">123456</span>
     <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span> MYSQL_DATABASE<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">=</span>wordpress
web<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span>
    image<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span> wordpress
    links<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span>
     <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span> mysql
    environment<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span>
     <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span> WORDPRESS_DB_PASSWORD<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">=</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 0, 85);">123456</span>
    ports<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span>
     <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span> <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(102, 153, 0);">"127.0.0.3:8080:80"</span>
    working_dir<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span> <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>var<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>www<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>html
    volumes<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span>
     <span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span> wordpress<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(153, 153, 153);">:</span><span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>var<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>www<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">/</span>html
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">上面代码中，两个顶层标签表示有两个容器<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">mysql</code>和<code style="padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px;">web</code>。每个容器的具体设置，前面都已经讲解过了，还是挺容易理解的。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">启动两个容器。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>compose up
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">浏览器访问 http://127.0.0.3:8080，应该就能看到 WordPress 的安装界面。</p>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">现在关闭两个容器。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>compose stop
</code></pre></blockquote>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">关闭以后，这两个容器文件还是存在的，写在里面的数据不会丢失。下次启动的时候，还可以复用。下面的命令可以把这两个容器文件删除（容器必须已经停止运行）。</p>

<blockquote style="list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);background-color:rgb(245, 242, 240);border-radius:1em;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, monospace;border-width:0.3em;border-color:rgb(224, 223, 204);border-style:solid;text-shadow:white 0px 1px;overflow:auto;margin:2em;padding:1em;"><pre style="margin:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;overflow:auto;padding:0em 0em 0.5em;background:rgb(245, 242, 240) none repeat scroll 0% 0%;" xml:space="preserve"><code style="margin:0px;padding:0px;list-style-type:none;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;text-shadow:white 0px 1px;font-family:monospace, Consolas, Monaco, &quot;Andale Mono&quot;;direction:ltr;white-space:pre;word-spacing:normal;font-size:1.2em;hyphens:none;text-align:left;color:black;">
$ docker<span style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;background:rgba(255, 255, 255, 0.5) none repeat scroll 0% 0%;color:rgb(166, 127, 89);">-</span>compose rm
</code></pre></blockquote>

<h2 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;font-size:2.88em;line-height:1.35em;letter-spacing:-0.03em;border-bottom:1px solid rgb(211, 211, 211);margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:500;color:rgb(0, 0, 0);margin-top:1.5em;">五、参考链接</h2>

<ul style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);margin-left:4em;">
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><a href="https://www.sitepoint.com/how-to-manually-build-docker-containers-for-wordpress/" target="_blank" style="margin:0px;padding:0px;list-style-type:none;text-align:left;font-weight:normal;font-style:normal;border:medium none;text-decoration:underline;color:rgb(34, 52, 114);">How to Manually Build Docker Containers for WordPress</a>, by Aleksander Koko</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><a href="https://www.sitepoint.com/how-to-use-the-official-docker-wordpress-image/" target="_blank" style="margin:0px;padding:0px;list-style-type:none;text-align:left;font-weight:normal;font-style:normal;border:medium none;text-decoration:underline;color:rgb(34, 52, 114);">How to Use the Official Docker WordPress Image</a>, by Aleksander Koko</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;line-height:220%;list-style-type:square;"><a href="https://www.sitepoint.com/deploying-wordpress-with-docker/" target="_blank" style="margin:0px;padding:0px;list-style-type:none;text-align:left;font-weight:normal;font-style:normal;border:medium none;text-decoration:underline;color:rgb(34, 52, 114);">Deploying WordPress with Docker</a>, by Aleksander Koko</li>
</ul>

<p style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);font-size:1.6em;margin-top:1em;margin-left:0.8em;line-height:180%;">（完）</p>

                                    

                                </div>
    
                                <div style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border-radius:1em;box-shadow:rgb(238, 238, 238) 0px 1px 0px 0px inset;background:rgb(170, 210, 240) linear-gradient(rgb(170, 210, 240) 5%, rgb(139, 193, 237) 100%) repeat scroll 0% 0%;text-shadow:rgb(238, 238, 238) 1px 1px 0px;margin:0px 0px 1em;font-weight:bold;color:rgb(252, 178, 151);margin-top:2em;background-color:rgb(222, 235, 247);padding:1.5em;border:1px solid rgb(211, 211, 211);">

<h3 style="list-style-type:none;text-align:left;text-decoration:none;font-style:normal;border:medium none;letter-spacing:-0.03em;margin:0.4em 0px 0.2em;padding:0px 0px 0.2em;font-weight:bold;color:rgb(85, 102, 119);font-size:1.92em;border-bottom:1px solid gray;">文档信息</h3>
<ul style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(17, 17, 17);padding-left:2em;padding-right:2em;">
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;font-size:1.6em;line-height:220%;list-style-type:square;color:rgb(85, 102, 119);">版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(85, 102, 119);">创意共享3.0许可证</a>）</li>
<li style="margin:0px;padding:0px;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;font-size:1.6em;line-height:220%;list-style-type:square;color:rgb(85, 102, 119);">发表日期： <abbr title="2018-02-13T09:31:50+08:00" style="margin:0px;padding:0px;list-style-type:none;text-align:left;text-decoration:none;font-weight:normal;font-style:normal;border:medium none;color:rgb(61, 61, 61);">2018年2月13日</abbr></li>

</ul>
                                </div>
</div></div></div></div></div></div></div></div></div></div></div>
</div>
</div></body></html>