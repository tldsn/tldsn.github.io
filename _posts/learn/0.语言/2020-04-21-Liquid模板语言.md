---
layout: post
title: Liquid文档
categories: 语言
tags: Liquid
author: tldsn
---

* content
{:toc}

### Liquid模板语言

<mark>三要素：对象、标记、过滤器</mark>

### base

* #### 数据类型

* String
* Number
* Boolean
* Nil
* Array

>通过 assign 或 capture 标记来初始化 Liquid 变量

<mark>★你无法只通过 Liquid 语法初始化一个数组。然而，你可以利用 split 过滤器将一个字符串分割为一个子字符串数组。</mark>

* #### 操作符

操作符| 含义
---|---
==  | 相等
!=  | 不相等
>  | 大于
<  | 小于
>=  | 大于或等于
<=  | 小于或等于
or  | 逻辑或
and  | 逻辑与
contains| 包含

* #### 真值与假值

>除了 nil 和 false 之外的所有值都是真值

<mark>★关于空字符串和Nil</mark>  
<mark>★未定义的变量使用时为nil　0值空字符串为true</mark>

* #### 空白符、raw

* raw
* endraw

>raw 标记临时禁止处理其所包围的代码  

>{%- raw -%}使用{{-、-}}、{%- 和 -%}取消Liquid 表达式编译后产生的空行{% endraw %}

### 对象  

```liquid
{%- raw -%}
{{ page.title }}
{% endraw %}
```

<!-- more -->

### 标记

```liquid
{%- raw -%}
{% if user %}
  Hello {{ user.name }}!
{% endif %}
{% endraw %}
```

* #### 控制流

    **关键字**

* if　　endif
* else
* elseif
* unless　　endunless
* case　　when　　endcase

```liquid
{%- raw -%}
{% assign handle = 'cake' %}
{% case handle %}
    {% when 'cake' %}
        This is a cake
    {% when 'cookie' %}
        This is a cookie
    {% else %}
        This is not a cake nor a cookie
{% endcase %}
{% endraw %}
```

* #### 迭代

    **关键字**

* for　　in　　endfor
* break
* continue
* limit  限定循环执行的次数
* offset  从指定索引号开始执行循环
* range  定义循环执行的范围
* reversed  反转循环的执行顺序
* cycle　　循环一组字符串并按照它们传入的顺序将其输出
* tablerow　　生成一个 HTML 表格

* #### 变量赋值

   **关键字**

* assign
* capture
* increment　　自增数值变量　初始0
* decrement　　自减数值变量　初始-1

```liquid
{%- raw -%}
{% assign foo = "bar" %}
{{ foo }}

{% capture my_variable %}
I am being captured.
{% endcapture %}
{% endraw %}
```

```liquid
{% increment my_counter %}
{% increment my_counter %}

0
1
```

### 过滤器

>过滤器 改变 Liquid 对象的输出。他们被用在输出上，通过一个 `|` 符号分隔

```liquid
{%- raw -%}
{{ "adam!" | capitalize | prepend: "Hello " }}
输出：
Hello Adam!
{% endraw %}
```

#### filters

| filters | 解释|
| :--- | ---: |
| abs| 绝对值|
| append| 追加|
| at_least| 限制最小值|
| at_most| 限制最大值|
| capitalize| 首字母大写|
| ceil| 取整|
|compact|  删除数组中的nil值|
|concat|  数组合并|
|date|  日期格式|
|default|  默认值|
|divided_by|  相除|
|downcase|  |
|escape|  |
|escape_once|  字符串转义|
|first|  |
|floor|  |
|join|  数组转字符串|
|last|  |
|lstrip|  |
|map|  **构件数组用**|
|minus|   相减|
|modulo|  取余|
|newline_to_br|  |
|plus|  相加|
|prepend|  前置添加|
|remove|  删除|
|remove_first|  |
|replace|  替换|
|replace_first|  |
|reverse|  数组反转|
|round|  四舍五入|
|rstrip|  |
|size|  字符串数组length|
|slice|  |
|sort|  数组排序|
|sort_natural|  |
|split|  字符串分隔为数组|
|strip|  删除两侧空白符|
|strip_html|  |
|strip_newlines|  |
|times|  乘|
|truncate|  字符串截断|
|truncatewords|  字符串截断加...|
|uniq| 数组去重|
|upcase|  |
|url_decode|  |
|url_encode|  |

### 参考

><https://liquid.bootcss.com/basics/types/>